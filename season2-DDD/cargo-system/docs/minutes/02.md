# 2019/01/05(土) 議事録
## やったこと
* ドメインモデルのリファクタリング
* 業務要件の整理
  - システムを使う運営はどういう人物か
  - 顧客はどういう人物か
* ドメインモデルの凝集を定義
* エンティティと値オブジェクトを定義
* サービスを定義
* リポジトリ、ファクトリの定義
* プログラムレイヤを設計
* 今後の進め方について整理

## 業務用券整理
### 登場人物
#### 運営
* 港 -> 港の運搬
* オーダー受注
    - input
      + 差出人
      + 受取人
      + 支払人
      + 受取予定日
      + 貨物
    - output
      + ID
      + スケジュール
      + 請求書
      + 引渡予定日

#### 顧客
##### 顧客の役割
* 差出人
* 受け取り人
* 支払人

##### 顧客の具体例
* 差出人
  - 平山運輸(平山本店)
* 受取人
  - 平山運輸(原支店)
* 支払人
  - 平山運輸(太田支店)
* 運営
  - DHL


## プログラムレイヤ例
```
.
├── application
│   ├── graphql
│   ├── grpc
│   └── rest
├── domain
│   ├── cargo
│   ├── order
│   ├── port
│   └── transport
└── service
```

| レイヤ      | 説明                                                                                |
|-------------|-------------------------------------------------------------------------------------|
| application | アプリケーションへのIOを扱う                                                        |
| service     | アプリケーションのユースケースを定義するレイヤ<br>ドメインの処理を呼び出す          |
| domain      | ドメインモデルのコードを定義するレイヤ<br>Factory、Repositoryもこのレイヤで定義する |


## 今後の進め方
* ハングアウトメインで実施
* 月1くらいにで直接集まって開催
* 輪読会の実施は今まで通り隔週で
* 第3部の最後に再度振り返りをする


## その他
### 請求書の発行
* 貨物単位

### サービスの定義はいつやる？
* プログラムレイヤの定義とどっちが先？
  - サービスの定義は要件定義フェーズで行うことが多いと思う
  - 頭の中ではすでにレイヤの定義はやってる気がする

### Factory、Repositoryはドメインモデルに必要？
* 分析モデルと設計モデルを一致させる必要があるため、ドメインモデルとして定義したほうがいい？
* ただのクラス図になりそうなので、工夫が必要なのかもしれない
